<div class="main">
  <h3>{{data.oldPackage == undefined ? "Добавление упаковки" : "Редактирование упаковки"}}</h3>

  <div class="inputs">
    <form [formGroup]="form" (ngSubmit)="onSubmitClick()">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Штрихкод</mat-label>
        <input matInput formControlName="barcode" required>
      </mat-form-field>

      <div class="formBlockDouble">
        <mat-form-field appearance="fill" style="width: 60%">
          <mat-label>Тип</mat-label>
          <input matInput formControlName="type">
        </mat-form-field>&nbsp;

        <mat-form-field appearance="fill" style="width: 40%">
          <mat-label>Кол-во в упаковке</mat-label>
          <input matInput formControlName="packQty" type="number" min="0" pattern="\d*">
        </mat-form-field>
      </div>

      <div class="formBlockFull">
        <mat-form-field appearance="fill">
          <mat-label>Ширина (см)</mat-label>
          <input matInput formControlName="width" #width type="number" min="0" step="0.5">
        </mat-form-field>&nbsp;

        <mat-form-field appearance="fill">
          <mat-label>Высота (см)</mat-label>
          <input matInput formControlName="height" #height type="number" min="0" step="0.5">
        </mat-form-field>&nbsp;

        <mat-form-field appearance="fill">
          <mat-label>Глубина (см)</mat-label>
          <input matInput formControlName="depth" #depth type="number" min="0" step="0.5">
        </mat-form-field>&nbsp;

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Объём</mat-label>
          <input matInput formControlName="volume"  value="{{Math.round(((width.value * height.value * depth.value) + Eps) * 100) / 100}}" type="number" min="0">
        </mat-form-field>
      </div>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Вес (гр)</mat-label>
        <input matInput formControlName="weight" type="number" min="0">
      </mat-form-field>

    </form>

  </div>

  <div mat-dialog-actions class="actions-div">
    <button mat-button mat-dialog-close (click)="onCancelClick()" type="button">Отмена</button>
    <button mat-raised-button color="primary" [mat-dialog-close]="data" (click)="onSubmitClick()" [disabled]="form.invalid">Сохранить</button>
  </div>
</div>
